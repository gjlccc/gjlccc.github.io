---
title: 加训加训一
date: 2025-04-11 10:34:43
tags: ICPC 加训
---
摆烂了好久，不想对不起这四年。打算补点基础板子，提升思维(主要会去看看以前 $agc$ 的题)，然后随机游走一些题。

### 4.11

[CF631E ](https://codeforces.com/problemset/problem/631/E)

很好的凸优化，让我的大脑旋转，自己推最多也就到 $S_i-S_j+a_i*j-a_i*i$ 这一步，

后面用凸优化还是李超线段树我是一个不会。

[P2841 A*B Problem - 洛谷](https://www.luogu.com.cn/problem/P2841)

水题，还是乱搞过去的。

一开始考虑长度 $1-20$  的 $01$ 串枚举 $A*B$ ,  $wa$ 了两个点，

随便测了测数据发现 $9999$ 的时候没找到答案，

猜其对应的 $A*B$ 一定是 $111\dots1$ 类型，再枚举一下就可以了。

### 4.12

打了蓝桥杯，感觉打的笨笨的，机房键盘也很折磨人。

### 4.13

#### $agc001$

##### $a$ [ BBQ Easy](https://atcoder.jp/contests/agc001/tasks/agc001_a)

随便猜排序后 $1-index$ 的奇数位和

##### $b$ [Mysterious Light](https://atcoder.jp/contests/agc001/tasks/agc001_b)

去手模了一下 $n=6$ 的情况，察觉到是 $3$ 的倍数，就先除以 $3$ 发现剩下的是 $n-gcd(n,x)$ 

##### $c$ [ Shorten Diameter](https://atcoder.jp/contests/agc001/tasks/agc001_c)

第一反应看了下数据范围，发现 $n^2$ 就可以，考虑 $k$ 为偶数枚举中点，统计到中点距离小于等于 $\frac{k}{2}$ 的数量 $cnt_i$ ，对于 $k$ 为偶数，枚举边，统计到边的两个端点的距离的较小值小于等于 $\frac{k-1}{2}$ 的数量 $cnt_i$ ，$ ans=n-max(cnt)$。

##### $d$ [Arrays and Palindrome](https://atcoder.jp/contests/agc001/tasks/agc001_d) 

硬生生给自己做成猜猜构造题了，

手玩发现当 $a$ 中奇数数量 $\leq2$ 有解，

然后玩着玩着觉得很有并查集的感觉，把所有的根据回文的特性，然后到一个集合里。

先处理掉特殊情况 $n=1$ ，输出 $1\ 1\ 1$ 就可以了。（有人今天把这玩意判成无解卡了好久）

大概就是 $k\%2==1$ 的时候再给他套上 $k+1$ 就能把 $k$ 内连通起来，然后之后都是偶数，偶数变成奇数然后套起来了的感觉，很好玩的一道题。偶数也是这样一个感觉，把偶数减一后就能套起来了，然后留出一个去承接之后的。

之后就开始构造了，

奇数数量为 $2$ ，$a$ 的顺序，把一个奇数放头，另一个放最后，中间的都是偶数，

这样我们只需要 $a[1]+1 ,a[2],\dots ,a[m-2],a[m]-1 $ 就可以了，注意 $a[m]=1$ 的时候特判一下去掉最后一个就行了。

奇数数量为 $1$ ，$a$ 的顺序，把奇数放头，后面都是偶数，

这样我们只需要 $a[1]+1 ,a[2],\dots ,a[m-2],a[m]-1 $ 就可以了。

奇数数量为 $1$ ，$a$ 的顺序随便放，

这样我们只需要 $1，a[1] ,a[2],\dots ,a[m-2],a[m]-1 $ 就可以了。

喜欢玩这种题。

##### $e$ [BBQ Hard](https://atcoder.jp/contests/agc001/tasks/agc001_e)

笨笨的一集，组合意义想半天都想不到，第一反应把式子变 $\frac{\sum_{i=1}^n\sum_{j=1}^{n}\binom{a_i+b_i+a_j+b_j}{a_i+a_j}-\binom{2a_i+2b_i}{2a_i}}{2}$ 然后想不出怎么去计算。

代数意义范德蒙德卷积去拆，结果犯浑，上半部的变量分离开了，下半部没分离开，虽然哪怕代数式子拆出来了我也不会写。

对于组合意义只需要视作所有从 $(-a_i,-b_i)$ 为起点，到所有 $(a_i,b_i)$ 的路径的和就行了。

代数意义拆开来生成函数然后秦九韶算法算一下就好了（之后去学）。

##### $f$ [Wide Swap](https://atcoder.jp/contests/agc001/tasks/agc001_f)

还是很好的一题，原先的条件太难看了，把下标和数字交换一下，形成排序 $P$ ，条件变成 $|P_i-P_{i+1}|\geq K$ 时可以交换，

手模后发现假定对于 $i,j ,1\leq i <j\leq n$ ，如果 $|P_i-P_{j}|< K$ 就无法交换相对位置，

就可以建图找位置跑拓扑排序了，但是图太大了，

看到时 $abs<K$ 想到之前遇到过有个把大于的满足的第一个位置 $k_1$，和小于满足的第一个都记下来 $k_2$，这两个的区间组合起来的都是可以覆盖的在这之前出现的所有满足 $abs<K$ 的位置，感觉很像一种偏序，但不完全是吧。用线段树维护就好了，我由于值域有限用的是权值线段树来进行区间修改，单点查询来完成查找。

这样建图就是最多 $2n$  条有向边了，跑拓扑排序，从第一个开始放数字就好了。

最后输出答案把下表和数字交换回去。

不要写出像下面的蠢猪代码，

```c++
  for (ll i = 1; i <= n; i++) {
    ans[tmp[i]] = i;
  }
  for (ll i = 1; i <= n; i++) {
    cout << ans[tmp[i] << "\n "[i == n];
  }
```

#### 总结

手摸比例太大了，好像只会手模和 $guess$ 了，不认为这是一件好事，还是希望能推出式子吧。

$agc001$ 的总体难度不算很高，可能也是场次古老了，自己敲代码还是摸鱼摸太久了。 

本来还有一题想写的，明天再说吧https://codeforces.com/contest/1446/problem/D2

### 4.14

早上有课，晚上 $cf$ 爆炸了，不好玩。

[Frequency 问题 (Hard Version)](https://codeforces.com/contest/1446/problem/D2)

好玩的根号分治题。

[P8434 「WHOI-2」D&D - 洛谷](https://www.luogu.com.cn/problem/P8434)

想到了子序列的装饰子集和原序列的装饰序列一样的，后面的 $dp$ 不是很会，$dp$ 弱手。

### 4.15

本来要 $vp$ 的，队友起晚了，没 $v$ 。

#### agc002

a，随便搞

b模拟

c,找到是否有两条相加大于L的

d,不会做，看题解是整体二分+可持久化并查集或 $kruskal$ 重构树，之后去补吧。

e,最爱的博弈，然而并不是很会。

f,不是很会的 $dp$ ,想了会儿就去看题解了
